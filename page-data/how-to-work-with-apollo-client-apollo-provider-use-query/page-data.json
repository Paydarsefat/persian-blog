{"componentChunkName":"component---src-templates-blog-post-js","path":"/how-to-work-with-apollo-client-apollo-provider-use-query/","result":{"data":{"site":{"siteMetadata":{"title":"احسان گازار"}},"markdownRemark":{"id":"40c162c8-6215-5717-81c5-3f58701d8341","excerpt":"بخش‌های مختلفی لازم است تغییر کنند یا ایجاد شودند تا این سیستم یعنی ارتباط بین ApolloProvider و useQuery ایجاد شود. بارای مثال لازم است اول ApolloClient…","html":"<p>بخش‌های مختلفی لازم است تغییر کنند یا ایجاد شودند تا این سیستم یعنی ارتباط بین ApolloProvider و useQuery ایجاد شود.</p>\n<br />\n<p>بارای مثال لازم است اول ApolloClient را ایجاد کنید.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloClient<span class=\"token punctuation\">,</span> InMemoryCache <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@apollo/client'</span>\n\n<span class=\"token keyword\">const</span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  uri<span class=\"token operator\">:</span> <span class=\"token string\">'YOUR ENDPOINT URL'</span><span class=\"token punctuation\">,</span>\n  cache<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InMemoryCache</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> client</code></pre></div>\n<br />\n<p>و سپس می‌بایست کل کامپونتت‌هایی که می‌خواهید را در ApolloProvider قرار دهید</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@apollo/client'</span>\n<span class=\"token keyword\">import</span> client <span class=\"token keyword\">from</span> <span class=\"token string\">'../utils/clientGraphQL'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>ApolloProvider client<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>client<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ApolloProvider<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>سپس می‌توانید Query خود را تعریف کنید که مطمئنا لازم است بدانید چطور GraphQL کار می‌کند</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> gql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@apollo/client'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">POSTS_QUERY</span> <span class=\"token operator\">=</span> gql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  {\n    posts {\n      id\n      title\n      description\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token constant\">POSTS_QUERY</span></code></pre></div>\n<br />\n<p>در نهایت می‌توانید تمام قطعات پازل را به هم وصل کنید و از useQuery استفاده کنید.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span>PostsQuery<span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<p>جزئیات بیشتر را می‌توانید در ویدئو ببینید.</p>\n<br />\n<p>این یکی از ویدئو‌های\n<a href=\"/react-advanced-course\">آموزش آنلاین React پیشرفته</a>\nهست.</p>","fields":{"slug":"/how-to-work-with-apollo-client-apollo-provider-use-query/"},"frontmatter":{"title":"کار با Apollo Client و ApolloProvider و آشنایی با هوک useQuery","date":"September 10, 2020","description":"کار با Apollo Client و ApolloProvider و آشنایی با هوک useQuery","videoSourceURL":"https://www.youtube.com/embed/J7HavzCh3nQ","category":"react-advanced","comment":null,"videoTitle":"کار با Apollo Client و ApolloProvider و آشنایی با هوک useQuery","cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdN0sAw//8QAGxAAAgEFAAAAAAAAAAAAAAAAAQIAAxAREyL/2gAIAQEAAQUC290SSghRS+Lf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAARAAIQIRof/aAAgBAQAGPwIjkFoZat//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhMWGRsf/aAAgBAQABPyF2FJYD2JV17lkzHxjdwAUFHEJ//9oADAMBAAIAAwAAABCjD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExQVFhcf/aAAgBAQABPxBVKoCtwuU28Jb9PMYU0/KhjmgFR1XG4GEGjAgC677n/9k=","aspectRatio":1.7699115044247788,"src":"/static/2bd5a2c4e2f24bea41615928330e84b6/14b42/cover.jpg","srcSet":"/static/2bd5a2c4e2f24bea41615928330e84b6/f836f/cover.jpg 200w,\n/static/2bd5a2c4e2f24bea41615928330e84b6/2244e/cover.jpg 400w,\n/static/2bd5a2c4e2f24bea41615928330e84b6/14b42/cover.jpg 800w,\n/static/2bd5a2c4e2f24bea41615928330e84b6/47498/cover.jpg 1200w,\n/static/2bd5a2c4e2f24bea41615928330e84b6/0e329/cover.jpg 1600w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"/how-to-work-with-apollo-client-apollo-provider-use-query/","previous":{"fields":{"slug":"/javascript-how-to-work-with-nullish-coalescing-operator/"},"frontmatter":{"title":"معرفی Nullish coalescing operator یا (??) در جاوا اسکریپت"}},"next":{"fields":{"slug":"/amazon-web-services-concepts-course/"},"frontmatter":{"title":"دوره آنلاین معرفی مفاهیم AWS یا Amazon Web Services"}}}}}