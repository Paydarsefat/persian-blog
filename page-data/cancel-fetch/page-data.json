{"componentChunkName":"component---src-templates-blog-post-js","path":"/cancel-fetch/","result":{"data":{"site":{"siteMetadata":{"title":"احسان گازار"}},"markdownRemark":{"id":"cc296417-ad7e-5fb1-b361-bd516ddac9ff","excerpt":"یکی از مشکلات در JavaScript بعضا کنسل کردن Promise هاست! فرض کنید به دلیلی یکی از API ها برای دریافت اطلاعات Failed…","html":"<p>یکی از مشکلات در JavaScript بعضا کنسل کردن Promise هاست! فرض کنید به دلیلی یکی از API ها برای دریافت اطلاعات Failed میشود به این دلیل که کاربر دیگر Authenticated نیست.\nدر نتیجه بهتر است که ریکوئست‌های دیگر کنسل شود و از ارسال آن‌ها جلوگیری شود.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> signal <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> controller\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getEmployees</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'http://dummy.restapiexample.com/api/v1/employees'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> signal <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ncontroller<span class=\"token punctuation\">.</span><span class=\"token function\">abort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> employees <span class=\"token operator\">=</span> <span class=\"token function\">getEmployees</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","fields":{"slug":"/cancel-fetch/"},"frontmatter":{"title":"چطور درخواست Fetch را در جاوا اسکریپت کنسل کنیم؟","date":"October 10, 2020","description":"چطور درخواست Fetch را در جاوا اسکریپت کنسل کنیم؟","videoSourceURL":"https://www.youtube.com/embed/gxihC_kq_UU","category":"javascript","comment":true,"videoTitle":"چطور درخواست Fetch را در جاوا اسکریپت کنسل کنیم؟","cover":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABuklEQVQoz21S20obQRjed/Had/AJvO4D+AIW8aq9iUV7IyiWFIsSEQqiKEpczc7MZg9glDaY1RzMmmz2MHuY3dlt4wmvNJ2sWokR/oH/9PH9//cPByNXiNxClwrduEAcFjZuus3rvyj2QeTCd8zbNVtC2Pc5SJxaQi9K+aOT/V9Xfyxs3Sb0KiR6TUORNwjDkPrA178vzxzqxygJuYLXOdcqVNy5L4PHXu/65q7etj1RMFa+ScQBdACPaAD8Zg7xfPsUxQFX9Mx6TQspvX3ouSTWZcFc/frz0/T8j2yedQ+NDSLvwLPA09iKBIJGoyXxpWymsbVRnJpIPoxsL05+Kal72BCpN7w2eklyvHGxye/lZz9Xx0fXljIfc6unmWk8MVaqnsAuhaED35ftSbDYX7+sZWQ0l1vOHskLmyv8b1U0DRjYA2oztqEpOPakJCiEeMPtgNhHBLPLwYTdKW1Nj4dCBwX28BR9MAgxE6YY+6JvKq2K2tZk40xpnyktjYWyWVeMqnpZkY1zhZU6VVUvS3aTMXFvxSB2aozKQsTqcxLGiVN+/FxlpTTzFvy8G33x0y/1/2+lmdfl/wEHTBql5EMcsAAAAABJRU5ErkJggg==","aspectRatio":1.7699115044247788,"src":"/static/0dd366e9772dd31d636ca2ac1e9cff02/ee604/cover.png","srcSet":"/static/0dd366e9772dd31d636ca2ac1e9cff02/69585/cover.png 200w,\n/static/0dd366e9772dd31d636ca2ac1e9cff02/497c6/cover.png 400w,\n/static/0dd366e9772dd31d636ca2ac1e9cff02/ee604/cover.png 800w,\n/static/0dd366e9772dd31d636ca2ac1e9cff02/f3583/cover.png 1200w,\n/static/0dd366e9772dd31d636ca2ac1e9cff02/5707d/cover.png 1600w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"/cancel-fetch/","previous":{"fields":{"slug":"/what-is-sentry-how-to-find-bugs-in-production/"},"frontmatter":{"title":"Sentry چیست و چطور باگ‌ها را در محیط production دیباگ کنیم؟"}},"next":{"fields":{"slug":"/chat-with-mojtaba-chenani-software-engineer-cubic-germany/"},"frontmatter":{"title":"گفتگو با مجتبی چنانی - برنامه‌نویس شرکت cubic در هامبورگ آلمان"}}}}}