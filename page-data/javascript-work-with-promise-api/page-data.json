{"componentChunkName":"component---src-templates-blog-post-js","path":"/javascript-work-with-promise-api/","result":{"data":{"site":{"siteMetadata":{"title":"احسان گازار"}},"markdownRemark":{"id":"0609ab1b-ca44-5e40-b258-7ae6c9ae37b7","excerpt":"یکی از پرکاربردترین ویژگی‌های جاوا اسکریپت استفاده از Promise…","html":"<p>یکی از پرکاربردترین ویژگی‌های جاوا اسکریپت استفاده از Promise هاست که همونطور که از اسمش بر میاد باعث میشه ما از نتیجه‌ی یک فانکشن مطمئن بشیم صرف نظر از اینکه چقدر زمان لازم دارد.</p>\n<br />\n<p>برای تعریف یک Promise میشه از Syntax زیر استفاده کرد.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchAPI</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resolve fetchAPI'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>همان‌طور که هی‌بینید ۳ ثانیه طول می‌کشد تا این Promise در نهایت Resolve شود.</p>\n<br />\n<p>اگر به هر دلیلی خطایی رخ دهد یا خودمان بخواهیم میتوانیم تابع Reject را صدا کنیم</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchAPI</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'reject fetchAPI'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br />\n<p>و اگر بخواهیم از این Function استفاده کنیم لازم است آن‌را صدا کنیم و تابع .then را تعریف کنیم</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetchAPI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<p>همان‌طور که در کد میبینید می‌توانید برای مثال Reponse را Console.log بگیرید.</p>\n<br />\n<p>یا اگر بخواهیم هر دو حالت Success و Error را هندل کنیم می‌توانیم از توابع .then و .catch استفاده کنیم.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetchAPI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br />\n<p>جزئیات بیشتر را می‌توانید در ویدئو ببینید.</p>\n<br />\n<p>این یکی از ویدئو‌های\n<a href=\"/es6-es7-etc-babel-webpack-javascript-course\">دوره کامل آموزش جاوا اسکریپت ورژن ES6 به بعد</a>\nهست.</p>","fields":{"slug":"/javascript-work-with-promise-api/"},"frontmatter":{"title":"کار با Promise API در جاوا اسکریپت","date":"September 07, 2020","description":"کار با Promise API در جاوا اسکریپت","videoSourceURL":"https://www.youtube.com/embed/7BaUqQIWRAw","category":"javascript","comment":true,"videoTitle":"کار با Promise API در جاوا اسکریپت","cover":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByUlEQVQoz5WTz0tUURTH398QCO6DNkL/gNRaWtiiRYjQooW4MAyGFi40iAKdIAiE0KSolRgOtRBtZIQsGJlBsEbryczQ/HgzOL5pfr759d677+ObNzrOYKl94Vy4h3M/555zz5Usy+LEunW6F8e7zth/mdQJq+smJa1OqdKgblNySQUtHoLUBlZDuxTUAeqG6QDd779yZeAFvbdnGXavE1vf4MfLCSof7kE12wKaJpYQ5wMbuuEAx54uIfXcR7r6kL7heUiv8f3xAB9dLv6mzjZ1AU0hHOdmUKZ/aIbrg09Y8ngQqzeozkoEFqbRdYvfW37i29vEAgEOZJmfXi+Z/X1iwSC1YtFhSCdZ1MMMpWKBPTnMXkRh1P2JB+NTTN66ie/1Kycmn1I4jEQcWCYc5k88TllVKWezrRt2AjPZPM3Cq3WDdBmu3Z3j3ZtlvnhWicpRhB2W3t21b7mFGo2S3NkhFQqRSyQwDaNddhuYT4RoxL6h/VpBCXi4M/Ic39s5SmE/FSWIXtM4T109bMpI+hGbk5jeMbt3o+Q+PyO96EJdfkTBN0OtoB4fFBe/8tmh7lZzqISw/m+wW5nNtjUBQrR89uL8lcsAjwDEKSv5BxWlcQAAAABJRU5ErkJggg==","aspectRatio":1.7857142857142858,"src":"/static/4c15a47c642feca8e65827036dbd3efa/ee604/cover.png","srcSet":"/static/4c15a47c642feca8e65827036dbd3efa/69585/cover.png 200w,\n/static/4c15a47c642feca8e65827036dbd3efa/497c6/cover.png 400w,\n/static/4c15a47c642feca8e65827036dbd3efa/ee604/cover.png 800w,\n/static/4c15a47c642feca8e65827036dbd3efa/f3583/cover.png 1200w,\n/static/4c15a47c642feca8e65827036dbd3efa/c9012/cover.png 1592w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"slug":"/javascript-work-with-promise-api/","previous":{"fields":{"slug":"/javascript-introducing-map-data-type/"},"frontmatter":{"title":"کار با Data Type جدیدی به اسم Map در جاوا اسکریپت"}},"next":{"fields":{"slug":"/introduction-to-redux-and-state-management/"},"frontmatter":{"title":"معرفی State Management و آشنایی با Redux"}}}}}